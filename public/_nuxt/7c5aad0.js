(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{332:function(e,t,r){var content=r(420);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(50).default)("3642955d",content,!0,{sourceMap:!1})},419:function(e,t,r){"use strict";r(332)},420:function(e,t,r){var n=r(49)(!1);n.push([e.i,".table-wrapper{overflow:auto;max-width:100%}",""]),e.exports=n},499:function(e,t,r){"use strict";r.r(t);var n=r(4),o=r(8),l=(r(55),r(36),r(136),r(13),r(18),r(17),r(26),r(16),r(27),r(356)),c=r.n(l),d=r(362),f=r.n(d),m={props:{headers:{type:Array,default:function(){return[]}},result:{type:Array,default:function(){return[]}},resultMetadata:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:function(){return!1}}},data:function(){return{options:{}}},computed:{resultComputed:function(){return this.result},resultMetadataComputed:function(){return this.resultMetadata},headersComputed:function(){return this.headers}},watch:{options:{deep:!0,handler:function(e){var t={};Object.keys(f()(e,["page","itemsPerPage","sortBy","sortDesc"])).forEach((function(r){t[{itemsPerPage:"page_size",sortBy:"sort_by",sortDesc:"sort_desc"}[r]||r]=e[r]})),this.$emit("options-change",t)}}},created:function(){},methods:{getTestTypeColor:function(e){return["orange","green"][e-1]},getTestLabel:function(e){return["SBMPTN","SNMPTN"][e-1]},getMajorGroupLabel:function(e){return["SOSHUM","SAINTEK"][e-1]},getMajorGroupColor:function(e){return["blue","purple"][e-1]}}},v=(r(419),r(70)),h=r(93),y=r.n(h),_=r(333),x=r(428),j=r(498),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"result-table"},[r("div",{staticClass:"table-wrapper"},[r("v-data-table",{staticClass:"table elevation-1",class:{"large-data-table":!e.$vuetify.breakpoint.mobile},attrs:{"fixed-header":"",headers:e.headersComputed,items:e.resultComputed,options:e.options,"server-items-length":e.resultMetadataComputed.total_rows,loading:e.loading,"multi-sort":""},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"top",fn:function(e){var t=e.pagination,n=e.options,o=e.updateOptions;return[r("v-data-footer",{attrs:{pagination:t,options:n,"items-per-page-text":"$vuetify.dataTable.itemsPerPageText"},on:{"update:options":o}})]}},{key:"item.test_type",fn:function(t){var n=t.item;return[r("v-chip",{attrs:{color:e.getTestTypeColor(n.test_type),dark:""}},[e._v(e._s(e.getTestLabel(n.test_type)))])]}},{key:"item.major_group",fn:function(t){var n=t.item;return[n.major_group?r("v-chip",{attrs:{color:e.getMajorGroupColor(n.major_group),dark:""}},[e._v(e._s(e.getMajorGroupLabel(n.major_group)))]):e._e()]}}])})],1)])}),[],!1,null,null,null),O=component.exports;function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}y()(component,{VChip:_.a,VDataFooter:x.a,VDataTable:j.a});var k={components:{ResultTable:O},data:function(){return{tableHeaders:[{text:"ID Siswa",value:"s_id"},{text:"Nama",value:"s_name"},{text:"Jalur",value:"test_type"},{text:"Universitas",value:"uni_name"},{text:"Prodi",value:"major_name"},{text:"Kelompok",value:"major_group"},{text:"Tahun",value:"year"}],result:[],resultMetadata:{},tableOptions:{},filters:{"majors.group":void 0,test_type:void 0},states:{isLoadingResult:!1},searchQuery:""}},watch:{tableOptions:{deep:!0,handler:function(e){this.loadResult()}},filters:{deep:!0,handler:function(e){this.loadResult()}},searchQuery:function(e){e?this.debouncedLoadResult():this.loadResult()}},created:function(){this.loadResult(),this.debouncedLoadResult=c()(this.loadResult.bind(this),500)},methods:{optionsChanged:function(e){this.tableOptions=e},getResult:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.searchQuery){t.next=5;break}return t.next=3,e.$api.result.search({params:C(C({q:e.searchQuery},e.tableOptions),e.filters)});case 3:return r=t.sent,t.abrupt("return",r);case 5:return t.next=7,e.$api.result.all({params:C(C({},e.tableOptions),e.filters)});case 7:return n=t.sent,t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})))()},loadResult:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.states.isLoadingResult=!0,t.prev=1,t.next=4,e.getResult();case 4:r=t.sent,e.result=r.records,e.resultMetadata=r.metadata,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:return t.prev=11,e.states.isLoadingResult=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,9,11,14]])})))()}}},M=r(345),R=r(346),P=r(495),T=r(496),S=r(350),V=r(497),L=r(349),D=r(489),N=Object(v.a)(k,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",[r("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[r("div",[r("v-text-field",{attrs:{outlined:"",label:"Cari nama","append-icon":"mdi-search"},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),e._v(" "),r("v-menu",{attrs:{transition:"slide-y-transition",bottom:"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-card",e._g(e._b({staticClass:"mb-3"},"v-card",o,!1),n),[r("v-card-title",[e._v("Filter")])],1)]}}])},[e._v(" "),r("v-form",{ref:"form",staticClass:"px-5 py-5"},[r("div",{staticClass:"px-0 py-0 filters mb-7"},e._l(e.filters,(function(t,n){return r("span",{key:n},[t?r("v-chip",{staticClass:"mr-3",attrs:{close:""},on:{"click:close":function(t){e.filters[n]=void 0}}},[e._v("\n              "+e._s(n)+": "+e._s(e.filters[n])+"\n            ")]):e._e()],1)})),0),e._v(" "),r("v-select",{attrs:{"item-text":"label","item-value":"code",items:[{label:"SBMPTN",code:1},{label:"SNMPTN",code:2}],label:"Jalur",outlined:""},model:{value:e.filters.test_type,callback:function(t){e.$set(e.filters,"test_type",t)},expression:"filters.test_type"}}),e._v(" "),r("v-select",{attrs:{"item-text":"label","item-value":"code",items:[{label:"SOSHUM",code:1},{label:"SAINTEK",code:2}],label:"Kelompok",outlined:""},model:{value:e.filters["majors.group"],callback:function(t){e.$set(e.filters,"majors.group",t)},expression:"filters['majors.group']"}})],1)],1),e._v(" "),r("result-table",{attrs:{loading:e.states.isLoadingResult,headers:e.tableHeaders,result:e.result,"result-metadata":e.resultMetadata},on:{"options-change":function(t){return e.optionsChanged(t)}}})],1)],1)}),[],!1,null,null,null);t.default=N.exports;y()(N,{VCard:M.a,VCardTitle:R.a,VChip:_.a,VCol:P.a,VForm:T.a,VMenu:S.a,VRow:V.a,VSelect:L.a,VTextField:D.a})}}]);